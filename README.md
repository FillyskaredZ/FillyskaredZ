- package chap4;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import javax.swing.JOptionPane;
import javax.swing.Timer;

public class CountdowntimerGUI extends javax.swing.JFrame {

    int min , sec ,hor,hor1, min1 ,sec1,min5,min15,min30; 
    Timer timer;
    boolean isStop = false;
    
    public CountdowntimerGUI() {
        initComponents();
        for(int i = 0 ; i < 60; i++){
            if(i < 10){
                cbxMin.addItem("0"+ i);
            } else {
                cbxMin.addItem(""+ i);
            }
        }
        for(int i = 0 ; i < 60; i++){
            if(i < 10){
                cbxSec.addItem("0"+ i);
            } else {
                cbxSec.addItem(""+ i);
            }
        for(int i = 0 ; i < 24; i++){
            if(i < 10){
                cbxHor.addItem("0"+ i);
            } else {
                cbxHor.addItem(""+ i);
            }    
        }
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        lblMin = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        lblSec = new javax.swing.JLabel();
        btnStart = new javax.swing.JButton();
        btnStop = new javax.swing.JButton();
        cbxMin = new javax.swing.JComboBox<>();
        cbxSec = new javax.swing.JComboBox<>();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        lblHor = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        cbxHor = new javax.swing.JComboBox<>();
        btn5M = new javax.swing.JButton();
        btn15M = new javax.swing.JButton();
        btn30M = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jLabel1.setFont(new java.awt.Font("NSimSun", 1, 36)); // NOI18N
        jLabel1.setText("Count Down Timer By Watchara");

        lblMin.setFont(new java.awt.Font("Tahoma", 0, 80)); // NOI18N
        lblMin.setText("00");

        jLabel3.setFont(new java.awt.Font("Tahoma", 0, 80)); // NOI18N
        jLabel3.setText(":");

        lblSec.setFont(new java.awt.Font("Tahoma", 0, 80)); // NOI18N
        lblSec.setText("00");

        btnStart.setFont(new java.awt.Font("Tahoma", 0, 48)); // NOI18N
        btnStart.setText("Start");
        btnStart.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnStartActionPerformed(evt);
            }
        });

        btnStop.setFont(new java.awt.Font("Tahoma", 0, 48)); // NOI18N
        btnStop.setText("Stop");
        btnStop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnStopActionPerformed(evt);
            }
        });

        cbxMin.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        cbxMin.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbxMinActionPerformed(evt);
            }
        });

        cbxSec.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        cbxSec.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbxSecActionPerformed(evt);
            }
        });

        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        jLabel5.setText("Minute");

        jLabel6.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        jLabel6.setText("Second");

        jLabel7.setIcon(new javax.swing.ImageIcon(getClass().getResource("/chap4/clock.jpg"))); // NOI18N

        lblHor.setFont(new java.awt.Font("Tahoma", 0, 80)); // NOI18N
        lblHor.setText("00");

        jLabel4.setFont(new java.awt.Font("Tahoma", 0, 80)); // NOI18N
        jLabel4.setText(":");

        jLabel8.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        jLabel8.setText("Hour");

        cbxHor.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        cbxHor.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbxHorActionPerformed(evt);
            }
        });

        btn5M.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        btn5M.setText("5  Minute");
        btn5M.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn5MActionPerformed(evt);
            }
        });

        btn15M.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        btn15M.setText("15 Minute");
        btn15M.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn15MActionPerformed(evt);
            }
        });

        btn30M.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        btn30M.setText("30 Minute");
        btn30M.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn30MActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGap(159, 159, 159)
                        .addComponent(jLabel1))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(51, 51, 51)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel8)
                            .addComponent(cbxHor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                                .addComponent(cbxMin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(12, 12, 12))
                            .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.TRAILING))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel6)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(10, 10, 10)
                                .addComponent(cbxSec, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btn30M))
                    .addGroup(layout.createSequentialGroup()
                        .addGap(37, 37, 37)
                        .addComponent(jLabel7)
                        .addGap(60, 60, 60)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(42, 42, 42)
                                .addComponent(btnStart)
                                .addGap(18, 18, 18)
                                .addComponent(btnStop)
                                .addGap(26, 26, 26))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(lblHor)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel4)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(lblMin)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jLabel3)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(lblSec)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 74, Short.MAX_VALUE)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(btn15M)
                            .addComponent(btn5M))))
                .addGap(29, 29, 29))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel1)
                .addGap(13, 13, 13)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(lblMin)
                            .addComponent(jLabel3)
                            .addComponent(lblSec)
                            .addComponent(lblHor)
                            .addComponent(jLabel4))
                        .addGap(18, 18, 18)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(btnStart)
                            .addComponent(btnStop)
                            .addComponent(btn30M)))
                    .addComponent(jLabel7)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                        .addGap(43, 43, 43)
                        .addComponent(btn5M)
                        .addGap(18, 18, 18)
                        .addComponent(btn15M)))
                .addGap(30, 30, 30)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel8))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(cbxMin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(cbxSec, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(cbxHor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(jLabel6))
                .addContainerGap(44, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>                        

    private void btnStartActionPerformed(java.awt.event.ActionEvent evt) {                                         
                     btnStart.setEnabled(false);
        timer = new Timer(1000,new ActionListener() {
           @Override
           public void actionPerformed(ActionEvent e) {
               
               if (isStop) {
                   min = min1;
                   sec = sec1;
                   isStop = false;
                
               }
               if (hor < 0) {
                   min = 59;
                   hor--;
               }
               if (sec == 0) {
                   sec = 60;
                   min--;
               }
               if (hor < 0) {
                   JOptionPane.showMessageDialog(rootPane, "จับเวลาเสร็จแล้วจ้า~");
                   hor = 0
                   min = 0; 
                   sec = 0;
                   timer.stop();
                 btnStart.setEnabled(true);
               } else {
                    sec--;
               }
                lblSec.setText(""+sec);
                lblMin.setText(""+min);
                lblHor.setText(""+hor);
                if (hor < 10) {
                    lblHor.setText("0"+hor);
               } else {
                    lblHor.setText(""+hor);
               }
                if (min < 10) {
                    lblMin.setText("0"+min);
               } else {
                    lblMin.setText(""+min);
               }
                  if (sec < 10) {
                    lblSec.setText("0"+sec);
               } else {
                    lblSec.setText(""+sec);
               }
           }
       });
       timer.start();
    }                                        

    private void cbxMinActionPerformed(java.awt.event.ActionEvent evt) {                                       

        lblMin.setText(""+cbxMin.getSelectedItem()); 
        min = Integer.parseInt(lblMin.getText());
    }                                      

    private void cbxSecActionPerformed(java.awt.event.ActionEvent evt) {                                       

        lblSec.setText(""+cbxSec.getSelectedItem());
        sec = Integer.parseInt(lblSec.getText());
    }                                      

    private void btnStopActionPerformed(java.awt.event.ActionEvent evt) {                                        
      btnStart.setEnabled(true);
      hor1 = hor;
      min1 = min;
      sec1 = sec;
      isStop = true;
      timer.stop();
  
    }                                       

    private void cbxHorActionPerformed(java.awt.event.ActionEvent evt) {                                       
       lblHor.setText(""+cbxHor.getSelectedItem());
        hor = Integer.parseInt(lblHor.getText());
    }                                      

    private void btn5MActionPerformed(java.awt.event.ActionEvent evt) {                                      
      min = 5;
      lblMin.setText(""+min);
    }                                     

    private void btn15MActionPerformed(java.awt.event.ActionEvent evt) {                                       
      min = 15;
      lblMin.setText(""+min);
    }                                      

    private void btn30MActionPerformed(java.awt.event.ActionEvent evt) {                                       
       min =30;
      lblMin.setText(""+min);
    }                                      

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(CountdowntimerGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(CountdowntimerGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(CountdowntimerGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(CountdowntimerGUI.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new CountdowntimerGUI().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private javax.swing.JButton btn15M;
    private javax.swing.JButton btn30M;
    private javax.swing.JButton btn5M;
    private javax.swing.JButton btnStart;
    private javax.swing.JButton btnStop;
    private javax.swing.JComboBox<String> cbxHor;
    private javax.swing.JComboBox<String> cbxMin;
    private javax.swing.JComboBox<String> cbxSec;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel lblHor;
    private javax.swing.JLabel lblMin;
    private javax.swing.JLabel lblSec;
    // End of variables declaration                   
}
